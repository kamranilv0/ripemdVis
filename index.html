<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIPEMD-160 Interactive Visualization</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>RIPEMD-160 Interactive Visualization</h1>
            <p>Educational visualization of the RIPEMD-160 hashing algorithm showing step-by-step execution</p>
        </header>

        <section class="input-section">
            <h2>Input</h2>
            <div class="input-group">
                <label for="message-input">Message:</label>
                <input type="text" id="message-input" placeholder="Enter your message here..." value="hello">
                <button id="hash-button">Calculate Hash</button>
                <button id="step-button" disabled>Step Through</button>
                <button id="reset-button">Reset</button>
            </div>
        </section>

        <section class="preprocessing-section">
            <h2>1. Input Preprocessing</h2>
            <div class="step-content">
                <div class="input-display">
                    <h3>Original Input</h3>
                    <div id="original-input" class="data-display"></div>
                </div>
                <div class="padding-display">
                    <h3>After Padding</h3>
                    <div id="padded-input" class="data-display"></div>
                </div>
                <div class="length-display">
                    <h3>Message Length (bits)</h3>
                    <div id="message-length" class="data-display"></div>
                </div>
            </div>
        </section>

        <section class="blocks-section">
            <h2>2. Message Blocks (512-bit chunks)</h2>
            <div id="message-blocks" class="blocks-container"></div>
        </section>

        <section class="compression-section">
            <h2>3. Compression Function - Dual Lane Processing</h2>
            <div class="compression-controls">
                <button id="play-pause-button" disabled>‚ñ∂ Play</button>
                <button id="next-step-button" disabled>Next Step</button>
                <button id="prev-step-button" disabled>‚óÄ Prev Step</button>
                <span id="current-step">Step: 0/160</span>
                <div class="speed-control">
                    <label for="speed-slider">Speed:</label>
                    <input type="range" id="speed-slider" min="0.1" max="16" step="0.1" value="1.0">
                    <span id="speed-display">1.0√ó</span>
                </div>
            </div>
            
            <div class="visualization-controls">
                <button id="toggle-view-button">üìä Toggle Gate View</button>
                <button id="toggle-endian-button">üîÑ Toggle Endianness</button>
                <button id="export-button">üíæ Export Frame</button>
                <div class="granularity-control">
                    <label for="step-granularity">Step Granularity:</label>
                    <select id="step-granularity">
                        <option value="gate">Gate Level</option>
                        <option value="operation" selected>Operation Level</option>
                        <option value="round">Round Level</option>
                    </select>
                </div>
            </div>
            
            <div class="dual-lanes">
                <div class="lane left-lane">
                    <h3>Left Lane</h3>
                    <div class="registers">
                        <div class="register-row">
                            <span class="register-label">A:</span>
                            <div class="register-display">
                                <span id="left-a" class="register-value">0x67452301</span>
                                <div id="left-a-binary" class="register-binary" title="Binary representation">01100111010001010010001100000001</div>
                            </div>
                        </div>
                        <div class="register-row">
                            <span class="register-label">B:</span>
                            <div class="register-display">
                                <span id="left-b" class="register-value">0xefcdab89</span>
                                <div id="left-b-binary" class="register-binary" title="Binary representation">11101111110011011010101110001001</div>
                            </div>
                        </div>
                        <div class="register-row">
                            <span class="register-label">C:</span>
                            <div class="register-display">
                                <span id="left-c" class="register-value">0x98badcfe</span>
                                <div id="left-c-binary" class="register-binary" title="Binary representation">10011000101110101101110011111110</div>
                            </div>
                        </div>
                        <div class="register-row">
                            <span class="register-label">D:</span>
                            <div class="register-display">
                                <span id="left-d" class="register-value">0x10325476</span>
                                <div id="left-d-binary" class="register-binary" title="Binary representation">00010000001100100101010001110110</div>
                            </div>
                        </div>
                        <div class="register-row">
                            <span class="register-label">E:</span>
                            <div class="register-display">
                                <span id="left-e" class="register-value">0xc3d2e1f0</span>
                                <div id="left-e-binary" class="register-binary" title="Binary representation">11000011110100101110000111110000</div>
                            </div>
                        </div>
                    </div>
                    <div class="current-operation">
                        <h4>Current Operation:</h4>
                        <div id="left-operation" class="operation-display"></div>
                    </div>
                </div>

                <div class="lane right-lane">
                    <h3>Right Lane</h3>
                    <div class="registers">
                        <div class="register-row">
                            <span class="register-label">A:</span>
                            <div class="register-display">
                                <span id="right-a" class="register-value">0x67452301</span>
                                <div id="right-a-binary" class="register-binary" title="Binary representation">01100111010001010010001100000001</div>
                            </div>
                        </div>
                        <div class="register-row">
                            <span class="register-label">B:</span>
                            <div class="register-display">
                                <span id="right-b" class="register-value">0xefcdab89</span>
                                <div id="right-b-binary" class="register-binary" title="Binary representation">11101111110011011010101110001001</div>
                            </div>
                        </div>
                        <div class="register-row">
                            <span class="register-label">C:</span>
                            <div class="register-display">
                                <span id="right-c" class="register-value">0x98badcfe</span>
                                <div id="right-c-binary" class="register-binary" title="Binary representation">10011000101110101101110011111110</div>
                            </div>
                        </div>
                        <div class="register-row">
                            <span class="register-label">D:</span>
                            <div class="register-display">
                                <span id="right-d" class="register-value">0x10325476</span>
                                <div id="right-d-binary" class="register-binary" title="Binary representation">00010000001100100101010001110110</div>
                            </div>
                        </div>
                        <div class="register-row">
                            <span class="register-label">E:</span>
                            <div class="register-display">
                                <span id="right-e" class="register-value">0xc3d2e1f0</span>
                                <div id="right-e-binary" class="register-binary" title="Binary representation">11000011110100101110000111110000</div>
                            </div>
                        </div>
                    </div>
                    <div class="current-operation">
                        <h4>Current Operation:</h4>
                        <div id="right-operation" class="operation-display"></div>
                    </div>
                </div>
            </div>

            <div class="round-info">
                <h3>Round Information</h3>
                <div class="round-details">
                    <span>Round: <span id="current-round">1</span>/5</span>
                    <span>Function: <span id="current-function">F</span></span>
                    <span>Constant: <span id="current-constant">0x00000000</span></span>
                </div>
            </div>

            <div class="gate-visualization" id="gate-section" style="display: none;">
                <h3>üî¨ Gate-Level Operations</h3>
                <div class="gate-controls">
                    <button id="zoom-in-button">üîç Zoom In</button>
                    <button id="zoom-out-button">üîç Zoom Out</button>
                    <button id="highlight-path-button">üí° Highlight Path</button>
                </div>
                <div class="gate-canvas-container">
                    <svg id="gate-canvas" width="800" height="400" viewBox="0 0 800 400">
                        <!-- Gate visualization will be rendered here -->
                    </svg>
                </div>
                <div class="bit-inspector">
                    <h4>üîé Bit Inspector</h4>
                    <div id="bit-details" class="bit-details">
                        Click on any bit to see its dependency path
                    </div>
                </div>
            </div>
        </section>

        <section class="result-section">
            <h2>4. Final Result</h2>
            <div class="result-display">
                <h3>RIPEMD-160 Hash</h3>
                <div id="final-hash" class="hash-output"></div>
                <div id="hash-hex" class="hash-hex"></div>
            </div>
        </section>

        <footer>
            <p>Educational visualization of RIPEMD-160 algorithm. 
            <a href="https://github.com/kamranilv0/ripemdVis" target="_blank">View source code</a></p>
        </footer>
    </div>

    <script src="ripemd160-visualizer.js"></script>
</body>
</html>